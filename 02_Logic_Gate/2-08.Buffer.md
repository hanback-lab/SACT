# BUFFER Gate
---
## 이론

BUFFER는 입력된 신호를 변경하지 않고 그대로 출력하는 게이트이다. 

BUFFER는 주로 신호 증폭, 팬아웃 증가, 신호 지연 등의 목적으로 사용된다. 

다음 그림인 이 BUFFER 게이트의 논리 기호를 나타낸 것이다. 


NOT 게이트도 일종의 BUFFER로 사용된다. 다만 일반 BUFFER와는 다르게 INVERTER BUFFER로 동작된다. 


<br>
<img src="./pds/buffer01.png" alt="p01" style="width: 30%;"><br>


<br>

BUFFER 연산 진리표

|A|Z|
|:---:|:---:|
|0|0|
|1|1|

<br>

동작 파형

<img src="./pds/buffer02.png" alt="p02" style="width: 70%;">

<br>


3-STATE(TRI-STATE)는 High와 Low 그리고, Hi-Impedance까지 3가지 상태를 갖는 회로를 말한다. 

보통 회로는 0 또는 1의 상태를 갖는 것에 비해 Tri-State는 고저항으로 갱신하지 못하는 상태를 가지는 것이 주요 차이점이고, 이와 같은 차이점으로 Tri-State 회로는 한 회로에서 input과 output 양방향 사용이 가능하다. 

결국은 Enable 회로가 연결되어 있으면 Tri-State이다. 회로를 ON사켜야 0 또는 1의 동작을 하고, 회로가 OFF 되면 입력으로 어떤 신호가 들어오더라도 동작으하지 않는 것과 비슷한 원리이다. 


<br>
<img src="./pds/buffer01b.png" alt="p01" style="width: 30%;"><br>


<br>

TRI-STATE 연산 진리표
|A|E|Z|
|:---:|:---:|:---:|
|0|0|Z|
|1|0|Z|
|0|1|0|
|1|1|1|


---
## **실습 목표**

다음과 같이 BUFFER, INVERTER, TRI-STATE를 제어하는 회로를 설계하여 실험해 보자.

<br>

<img src="./pds/buffer03.png" alt="p03" style="width: 90%;">


<br>

이 회로의 동작 진리표은 다음과 같다. 


BUFFER 연산 진리표
|A|E||X|Y|Z|
|:---:|:---:|-|:---:|:---:|:---:|
|0|0||0|1|Z|
|1|0||1|0|Z|
|0|1||0|1|0|
|1|1||1|0|1|


<br>

SACT 장비에서 확인하기 위하여 연결된 장치는 다음과 같다. 

|A|E|X|Y|Z|
|:---:|:---:|:---:|:---:|:---:|
|SW7|SW6|LED7|LED6|LED5|

<img src="./pds/sact-buf.png" alt="sact-buf" style="width: 60%;">

<br>



### **설계**

1. 실험을 위해 프로젝트 파일 <a href="./pds/GATE_BUFFER.zip" download>GATE_BUFFER.zip</a>을 준비한다. 
<br>

2. 다운로드된 프로젝트의 압축 파일을 d:\work 이동시킨 후, 압축을 푼다.

3. Quartus II를 실행키고, File> Open Project 메뉴를 선택한다. 

<img src="./pds/ex01.png" alt="ex01" style="width: 40%;"><br>

4. 위에서 압축을 푼 위치인, d:\work\GATE_BUFFER 폴더로 이동 후,GATE_BUFFER 프로젝트를 OPEN한다. 

<br>

5. File > Open 메뉴를 선택하여 GATE_BUFFER.bdf 파일을 불러오거나, 프로젝트 왼쪽의 GATE_BUFFER 부분을 마우스로 더블 클릭한다. 

<br>

6. 아래 그림과 같이 미완성된 도면이 보이는데, 실습 목표에서 설명한 도면으로 완성시키자. 

<img src="./pds/buffer05.png" alt="p05" style="width: 70%;"><br>

<img src="./pds/buffer03.png" alt="p01" style="width: 80%;"><br>

7. 도면을 더블 클릭하거나, 마우스 오른쪽 버튼을 누르고 Insert > Symbol 메뉴를 선택한다. 

<br>

8. 심볼 창에서 왼쪽 아래 부분의 -Name- 부분에 wire, not, tri 심볼명을 각각 입력하고, OK 버튼을 누른다. 

<img src="./pds/buffer07a.png" alt="p07" style="width: 70%;"><br>

<img src="./pds/buffer07b.png" alt="p07" style="width: 70%;"><br>

<img src="./pds/buffer07c.png" alt="p07" style="width: 70%;"><br>

9. 심볼 들을 도면에 위치시키고, wire로 심볼을 연결시켜 회로를 완성시킨다. 
<br>
회로가 정확하게 연결되지 않았을 경우에는 원하는 동작이 되지 않을 수 있기 때문에 주의하자. 

  <img src="./pds/buffer08.png" alt="p08" style="width: 70%;"><br>

<br>


### **컴파일**


10. File > Save 메뉴를 선택하여 저장하고, Processing > Start Compilation 메뉴를 선택하여 컴파일을 진행한다. 

이 컴파일 과정은 설계한 논리 회로에 오류가 없는 지를 검증하고, 프로그래밍 파일과 시뮬레이션 파일을 만드는 과정이다. 

<br><br>


### **시뮬레이션**

11. 컴파일 완료 후, File > Open 메뉴를 선택하고, 나타나는 Open File 창에서 오른쪽 아래 부분의 File Type을 All File(*.*)로 변경한 후, Waveform.vwf 파일을 선택한다. 

12. 아래 그림과 같이 Waveform 창에서, Simulation > Run Functiona Simulation 메뉴를 선택하여 Functional Simulation을 진행하여, 결과를 확인한다. 

<img src="./pds/ex10.png" alt="p11" style="width: 70%;"><br>

<img src="./pds/buffer10.png" alt="p10" style="width: 70%;"><br>
<br>

### **하드웨어 동작 확인**

13. SACT 장비를 준비한다. 

14. 장비의 중앙 위쪽의 USB B Type Connectbuffer에 USB 케이블을 PC와 연결한다. 

15. 장비의 왼쪽 Power Connectbuffer에 전원 케이블을 연결하고, 전원 스위치를 눌러 장비에 전원을 인가시킨다. 

16. Quartus 소프트웨어에서 Tool > Programmer 메뉴를 선택한다.

<img src="./pds/ex07.png" alt="ex07" style="width: 35%;"><br>

17. Programmer창의 Hardware Setup이 USB Blaster가 연결되어 있는지 확인하고, Start 버튼을 눌러 프로그래밍 하고 장비에서 BUFFER 게이트의 동작을 확인한다. 

<br>

18. 버튼 스위치를 동작시키고, LED를 통해 결과를 확인해 보자.

|A|E|X|Y|Z|
|:---:|:---:|:---:|:---:|:---:|
|SW7|SW6|LED7|LED6|LED5|

<img src="./pds/sact-buf.png" alt="sact-buf" style="width: 60%;">

<br>





